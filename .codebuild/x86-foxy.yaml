version: 0.1

phases:
  pre_build:
    commands:
      - echo Nothing to do in the pre_build phase...
  build:
    commands:
      - cd ../ && cp -r image_processing_utils ~/colcon_ws/src
      - rosdep update
      - cd ~/colcon_ws && vcs import src < src/image_processing_utils/dependency.repos
      - cd ~/colcon_ws && rosdep install -r -y --from-paths . --ignore-src
      - apt-get install -y ros-foxy-ament-cmake
      - sh /opt/ros/foxy/setup.sh && cd ~/colcon_ws && colcon build --symlink-install && colcon test && colcon test-result --verbose
  post_build:
    commands:
      - echo Build completed on `date`
